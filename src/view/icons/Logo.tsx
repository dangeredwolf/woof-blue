import React from 'react'
import {StyleSheet, type TextProps} from 'react-native'
import Svg, {
  Defs,
  LinearGradient,
  Path,
  type PathProps,
  Stop,
  type SvgProps,
} from 'react-native-svg'

import {colors} from '#/lib/styles'

const ratio = 512 / 512

type Props = {
  fill?: PathProps['fill']
  style?: TextProps['style']
} & Omit<SvgProps, 'style'>

export const Logo = React.forwardRef(function LogoImpl(props: Props, ref) {
  const {fill, ...rest} = props
  const gradient = fill === 'sky'
  const styles = StyleSheet.flatten(props.style)
  const _fill = gradient ? 'url(#sky)' : fill || styles?.color || colors.blue3
  // @ts-ignore it's fiiiiine
  const size = parseInt(rest.width || 32)

  // const isKawaii = useKawaiiMode()

  // if (isKawaii) {
  //   return (
  //     <Image
  //       source={
  //         size > 100
  //           ? require('../../../assets/kawaii.png')
  //           : require('../../../assets/kawaii_smol.png')
  //       }
  //       accessibilityLabel="Bluesky"
  //       accessibilityHint=""
  //       accessibilityIgnoresInvertColors
  //       style={[{height: size, aspectRatio: 1.4}]}
  //     />
  //   )
  // }

  return (
    <Svg
      fill="none"
      // @ts-ignore it's fiiiiine
      ref={ref}
      viewBox="0 0 512 512"
      {...rest}
      style={[{width: size, height: size * ratio}, styles]}>
      {gradient && (
        <Defs>
          <LinearGradient id="sky" x1="0" y1="0" x2="0" y2="1">
            <Stop offset="0" stopColor="#2f59ee" stopOpacity="1" />
            <Stop offset="1" stopColor="#2f59ee" stopOpacity="1" />
          </LinearGradient>
        </Defs>
      )}

      <Path
        d="M 420.767609 202.261597 C 424.53244 197.36676 429.99054 189.64975 435.072784 179.296753 C 456.155762 137.133087 450.507996 96.851288 446.555756 70.498688 C 442.602417 45.276154 437.331665 9.700592 417.944275 4.618408 C 411.167633 2.735443 405.332428 5.558746 394.979492 10.265045 C 389.332825 12.899841 373.333221 21.182465 346.416199 56.005005 C 341.145447 62.781708 333.992859 72.569061 326.463226 84.616486 C 320.440674 81.981689 311.593628 78.404266 300.676239 75.957977 C 287.875854 73.134644 277.522888 73.134644 257.759613 73.134644 C 241.571472 73.134644 228.959625 73.322021 212.018509 75.957977 C 201.289642 77.651276 192.442596 79.910156 186.231522 81.604645 C 182.089645 76.5224 172.678177 65.040588 160.44339 50.1698 C 143.126358 29.27655 134.279327 18.547668 120.350075 10.076538 C 109.808586 3.67691 104.161934 0.289154 97.385262 1.41803 C 77.244911 4.994324 69.527908 45.840576 65.951622 64.287628 C 61.998276 84.804993 53.33976 134.121246 80.256775 181.555634 C 84.586021 189.085327 88.726746 194.920471 91.738609 198.685303 C 80.068253 218.072662 64.445694 251.389313 65.951622 293.177063 C 66.516045 307.859283 68.021973 353.787781 94.561928 367.528503 C 102.844543 371.857727 104.161934 368.092926 117.526749 373.17511 C 136.914124 380.704773 148.77301 394.06958 163.266693 410.445099 C 168.537445 416.468811 175.690033 424.938782 183.219666 436.233246 C 182.655228 443.950256 183.031143 456.562103 188.866318 470.491364 C 191.689636 477.079498 198.277786 492.326172 214.654465 501.926178 C 225.571854 508.514313 235.736298 509.454651 246.089249 510.584656 C 255.688095 511.526184 268.488464 512.843567 283.358063 507.761353 C 288.25293 506.066895 311.969543 497.972809 323.451385 473.503235 C 329.475098 460.515442 329.663635 448.468018 329.099182 442.06842 C 331.358063 437.173584 335.121735 430.020996 340.580994 422.115448 C 356.957703 398.398834 377.473938 385.409912 389.144287 379.198853 C 407.026886 369.787354 407.779846 374.492523 417.755768 367.71701 C 449.567627 346.635193 449.379059 294.871521 449.190552 284.707092 C 448.626129 246.87149 431.685028 217.695618 420.767609 202.261597 Z M 211.831131 285.271515 C 211.454071 289.600769 209.759613 292.61261 209.006653 293.930023 C 203.924438 302.399994 193.76001 304.470337 189.05484 305.411865 C 182.278168 306.729248 176.254456 306.164795 173.808197 305.78891 C 173.808197 305.78891 172.678177 305.600372 171.925201 305.411865 C 164.019669 303.905945 154.043762 297.883362 146.138214 288.283386 C 141.431915 282.635559 139.173019 277.741882 137.479721 273.977051 C 135.785263 270.212219 134.655228 266.824463 134.655228 262.495239 C 134.655228 260.424866 134.655228 255.718567 137.479721 251.013397 C 140.490402 246.118561 145.008194 244.048187 148.961548 242.354889 C 156.11412 239.15451 162.890793 239.15451 166.090027 239.530426 C 173.808197 240.096008 179.266312 243.10788 183.219666 245.178192 C 196.207428 252.330811 202.60704 262.495239 206.183334 268.141846 C 211.642609 276.424469 212.207047 281.506714 211.831131 285.271515 Z M 280.53476 462.773224 C 274.135132 472.937622 270.747375 478.019836 264.535126 479.902832 C 259.641449 481.408783 255.312195 480.278748 253.617737 479.902832 C 245.147766 477.643951 240.629974 471.244324 234.7948 462.773224 C 229.71257 455.24472 226.136292 450.162506 226.136292 442.821411 C 226.136292 440.751038 226.136292 436.044708 228.959625 431.338409 C 234.4189 422.492523 245.523666 420.798096 250.794403 419.856567 C 255.500732 419.103577 260.394409 419.480652 260.394409 419.480652 C 261.711792 419.480652 263.029205 419.66806 264.347748 419.856567 C 270.182953 420.798096 281.100342 422.492523 286.182556 431.338409 C 288.817352 436.044708 289.005859 440.5625 289.005859 442.821411 C 289.193268 449.221008 286.182556 453.7388 280.53476 462.773224 Z M 380.674316 262.495239 C 380.674316 266.824463 379.545441 270.024841 377.850983 273.977051 C 376.156555 277.741882 373.897614 282.635559 369.192474 288.283386 C 361.286926 297.883362 351.309875 303.905945 343.404358 305.411865 C 342.46283 305.600372 341.522522 305.78891 341.522522 305.78891 C 339.263611 306.164795 333.051361 306.917786 326.275879 305.411865 C 321.56955 304.470337 311.405121 302.399994 306.322906 293.930023 C 305.569946 292.61261 303.875458 289.600769 303.499573 285.271515 C 303.122528 281.318176 303.875458 276.424469 309.14621 268.141846 C 312.722504 262.683777 318.934753 252.330811 331.922516 245.178192 C 336.063232 242.919312 341.333984 240.096008 349.050964 239.530426 C 352.439911 239.343048 359.028046 239.15451 366.180634 242.354889 C 370.132843 244.048187 374.650604 246.118561 377.662476 251.013397 C 380.674316 255.531189 380.674316 260.424866 380.674316 262.495239 Z"
        fill={_fill}
      />
    </Svg>
  )
})
